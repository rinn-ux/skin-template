@use "sass:string";
@use "sass:color";
@use "sass:map";

$rosewater: #dc8a78;
$flamingo: #dd7878;
$pink: #ea76cb;
$mauve: #8839ef;
$red: #d20f39;
$maroon: #e64553;
$peach: #fe640b;
$yellow: #df8e1d;
$green: #40a02b;
$teal: #179299;
$sky: #04a5e5;
$sapphire: #209fb5;
$blue: #1e66f5;
$lavender: #7287fd;
$text: #4c4f69;
$subtext1: #5c5f77;
$subtext0: #6c6f85;
$overlay2: #7c7f93;
$overlay1: #8c8fa1;
$overlay0: #9ca0b0;
$surface2: #acb0be;
$surface1: #bcc0cc;
$surface0: #ccd0da;
$base: #eff1f5;
$mantle: #e6e9ef;
$crust: #dce0e8;

$mocha: (
  $rosewater: #f5e0dc,
  $flamingo: #f2cdcd,
  $pink: #f5c2e7,
  $mauve: #cba6f7,
  $red: #f38ba8,
  $maroon: #eba0ac,
  $peach: #fab387,
  $yellow: #f9e2af,
  $green: #a6e3a1,
  $teal: #94e2d5,
  $sky: #89dceb,
  $sapphire: #74c7ec,
  $blue: #89b4fa,
  $lavender: #b4befe,
  $text: #cdd6f4,
  $subtext1: #bac2de,
  $subtext0: #a6adc8,
  $overlay2: #9399b2,
  $overlay1: #7f849c,
  $overlay0: #6c7086,
  $surface2: #585b70,
  $surface1: #45475a,
  $surface0: #313244,
  $base: #1e1e2e,
  $crust: #181825,
  $mantle: #11111b,
);
$frappe: (
  "rosewater": #f2d5cf,
  "flamingo": #eebebe,
  "pink": #f4b8e4,
  "mauve": #ca9ee6,
  "red": #e78284,
  "maroon": #ea999c,
  "peach": #ef9f76,
  "yellow": #e5c890,
  "green": #a6d189,
  "teal": #81c8be,
  "sky": #99d1db,
  "sapphire": #85c1dc,
  "blue": #8caaee,
  "lavender": #babbf1,
  "text": #c6d0f5,
  "subtext1": #b5bfe2,
  "subtext0": #a5adce,
  "overlay2": #949cbb,
  "overlay1": #838ba7,
  "overlay0": #737994,
  "surface2": #626880,
  "surface1": #51576d,
  "surface0": #414559,
  "base": #303446,
  "mantle": #292c3c,
  "crust": #232634,
);

$macchiato: (
  "rosewater": #f4dbd6,
  "flamingo": #f0c6c6,
  "pink": #f5bde6,
  "mauve": #c6a0f6,
  "red": #ed8796,
  "maroon": #ee99a0,
  "peach": #f5a97f,
  "yellow": #eed49f,
  "green": #a6da95,
  "teal": #8bd5ca,
  "sky": #91d7e3,
  "sapphire": #7dc4e4,
  "blue": #8aadf4,
  "lavender": #b7bdf8,
  "text": #cad3f5,
  "subtext1": #b8c0e0,
  "subtext0": #a5adcb,
  "overlay2": #939ab7,
  "overlay1": #8087a2,
  "overlay0": #6e738d,
  "surface2": #5b6078,
  "surface1": #494d64,
  "surface0": #363a4f,
  "base": #24273a,
  "mantle": #1e2030,
  "crust": #181926,
);

/*
  ---+ REVERSI PLUS PLUS +---

  ++ CREDITS & ACKNOWLEDGEMENTS ++
  - reversi base:		archiveofourown		(https://archiveofourown.org/skins/929)
  - tag scroll box:		archiveofourown		(https://archiveofourown.org/skins/3756)
  - tag bubbles:		@nyxmidnight		(https://github.com/nyxmidnight) (https://github.com/nyxmidnight/ao3tagsfonts)
  - typography:			mb					(https://practicaltypography.com/index.html)
  - fonts:
		*				charter				(https://fontesk.com/charter-typeface/)
		*				fira code			(https://fonts.google.com/specimen/Fira+Code)
			@		$	helvetica neue		(https://www.myfonts.com/collections/neue-helvetica-font-linotype)
		*				ibm plex mono		(https://fonts.google.com/specimen/IBM+Plex+Mono)
		*				ibm plex sans		(https://fonts.google.com/specimen/IBM+Plex+Sans)
		*				ibm plex serif		(https://fonts.google.com/specimen/IBM+Plex+Serif)
		*				lato				(https://fonts.google.com/specimen/Lato)
		*				literata			(https://fonts.google.com/specimen/Literata)
		*				libre baskerville	(https://fonts.google.com/specimen/Libre+Baskerville)
		*	@			menlo				(https://github.com/hbin/top-programming-fonts/blob/master/Menlo-Regular.ttf)
		*				noto sans			(https://fonts.google.com/specimen/Noto+Sans)
		*				noto serif			(https://fonts.google.com/specimen/Noto+Serif)
			@		$	palatino			(https://www.myfonts.com/collections/palatino-font-linotype)
				#		palatino linotype	(https://learn.microsoft.com/en-us/typography/font-list/palatino-linotype)
			@		$	proxima nova		(https://fonts.adobe.com/fonts/proxima-nova)
		*				source code pro		(https://fonts.google.com/specimen/Source+Code+Pro)
		*				source sans 3		(https://fonts.google.com/specimen/Source+Sans+3)
		*				source serif 4		(https://fonts.google.com/specimen/Source+Serif+4)

	* web font (i.e., free!)
	@ iOS/iPadOS system font
	# microsoft office cloud
	$ paid

  ++ SECTIONS ++
  00. colour guide
  01. body fonts
  02. base
  03. actions
  04. header
  05. main
  06. footer
  07. work reading adjustments (reading fonts here!)
  08. comments
  09. tags
  10. work blurb cleanup
  11. messages & tooltips
  12. dashboard
  13. stats page
  14. other pages
  15. sort & filter sidebar
  16. misc
  
*/

/* ---+ 00. COLOUR GUIDE +--- */

/* using this as a colour guide as ao3 does not allow variables
:root {
	--ao3-accent-color: $yellow;
	--ao3-accent-color-light: map.get($frappe, "yellow");
	--background-color: $base;
	--background-color-dark: $mantle;
	--box-background-color: #16151b;
	--box-border-color: #78777d;
	--box-border-color-alt: #c2d2df;
	--box-border-color-subtle: #454547;
	--button-background-color: $surface0;
	--button-current-color: #0b0b0b;
	--button-highlight-color: #4e4e5e;
	--tag-bubble-color-visited-hover: #5b5b66;
	--text-color: #eee;
	--text-link-color: #fff;
	--text-link-visited-color: $mauve;
	--textbox-background-color: $mantle;
}
*/

/* ---+ 01. BODY FONTS +--- */

/* body fonts
   grab whichever strikes your fancy insert it after font-family!
   fonts:	"IBM Plex Sans", "Noto Sans", "Source Sans 3", "Proxima Nova", "Helvetica Neue",
   ao3 defaults:	"Lucida Grande", "Lucida Sans Unicode", "GNU Unifont", Verdana, Helvetica, sans-serif;
*/

body {
  /* font choices go here ↓ */
  font-family: "IBM Plex Sans", "Proxima Nova", "Helvetica Neue",
    "Lucida Grande", "Lucida Sans Unicode", "GNU Unifont", Verdana, Helvetica,
    sans-serif;
}

input,
textarea,
blockquote,
blockquote.userstuff,
.blurb blockquote,
.dropdown,
.expander,
.toggled form {
  /* font choices go here ↓ */
  font-family: "IBM Plex Sans", "Proxima Nova", "Helvetica Neue",
    "Lucida Grande", "Lucida Sans Unicode", "GNU Unifont", Verdana, Helvetica,
    sans-serif;
}

/* header fonts
   fonts:	"Charter", "IBM Plex Serif", "Source Serif 4", "Palatino Linotype", "Palatino", "Literata",
   ao3 defaults:	"Georgia", serif;
*/
h1,
h2,
h3,
h4,
h5,
h6,
.heading,
.bookmark .user .meta {
  /* font choices go here ↓ */
  font-family: "Charter", "IBM Plex Serif", "Palatino", "Georgia", serif;
}

/* mono/code fonts */
kbd,
tt,
code,
var,
pre,
samp {
  /* font choices go here ↓ */
  font-family: "Fira Code", "Source Code Pro", "Menlo", "Monaco", "Consolas",
    Courier, monospace;
  font-size: 0.9em;
}

/* ---+ 02. BASE +--- */

/* banishes every box shadow, text shadow, and outline like the demons they are */
* {
  box-shadow: none !important;
  outline: none !important;
  text-shadow: none !important;
}

body {
  background: $base;
  border-color: $overlay2;
  color: $text;
}

a,
a:link {
  color: $text;
  text-decoration: none;
}

/* lighter ao3 blue on link hover */
a:hover,
a:link:hover,
a:link:visited,
a:visited:hover,
div.preface .byline a:hover,
div.preface .byline a:visited:hover,
.blurb h4 a:hover,
.blurb h4 a:link:hover,
.blurb h4 a:visited:hover,
.listbox .heading a:visited:hover {
  color: color.scale($lavender, $lightness: 15%);
}

/* darker grey for visited links */
a:visited,
div.preface .byline a:visited,
span.series .divider,
.blurb h4 a:visited,
.listbox .heading a:visited {
  color: $lavender;
}

/* icons are sharp no more */
a img,
.icon {
  border: 0;
  border-radius: 0.25em;
}

h1,
h2,
h3,
h4,
h5,
h6,
.heading {
  border: 0;
}

h1 {
  font-size: 2.5em;
  line-height: 1;
  margin: 0.5em 0;
}

h2 {
  font-size: 2.145em;
  line-height: 1;
  margin: 0.5em 0;
  display: inline;
}

h3 {
  font-size: 1.29em;
  line-height: 1.25;
  margin: 0.5375em 0;
}

h4 {
  font-size: 1.145em;
  line-height: 1.25;
  margin: 0.5em 0;
}

h5 {
  font-size: 1em;
  line-height: 1.285;
  margin: 0.65em 0;
}

h6 {
  font-size: 0.875em;
  font-weight: 900;
  line-height: 1.5;
  margin: 1.5em 0;
}

/* makes lots of link things ao3 blue */
a.cloud7,
a.cloud8,
a.work,
.blurb h4 a:link,
.blurb h4 img,
.delete a,
.splash .browse li a:before {
  color: $rosewater;
}

.delete a:hover {
  color: $rosewater;
}

/* makes HR dividers the same colour as text + extra margin space */
hr,
.userstuff hr {
  border: 0;
  border-bottom: 2px solid;
  color: $text;
  margin: 1.5em auto;
}

/* 
fieldset.listbox {
	
}*/

#inner.wrapper {
  display: flex;
  margin: 0;
  padding: 0;
  #main.works-show.region,
  #main.chapters-show.region {
    padding-top: 1em;
    background: $mantle;
    align-items: center;
    flex-direction: column;
    width: 100%;
    overflow-wrap: break-word;
    box-sizing: border-box;
  }
}

/* rounds and pretties text boxes */
input,
textarea {
  background: $mantle;
  border-color: $surface1;
  border-radius: 0.25em;
  color: $text;
}

/* blue border now appears when you're focused a text box */
input:focus,
textarea:focus,
form blockquote.userstuff,
form.search input:focus[type="text"] {
  background: $mantle;
  border-color: $blue;
}

/* white border on text box hover */
input:hover,
form.search input:hover[type="text"] {
  background: $mantle;
  border-color: $text;
}

th,
.secondary,
.thread .even,
.system .tweet_list li,
.ui-datepicker tr:hover {
  background: $mantle;
}

.heading,
.group .heading {
  background: none;
  color: $text;
}

/* makes lots of things the ao3 blue accent */
span.claimed,
span.delete,
span.requested,
span.unread,
.draggable,
.droppable,
.replied,
.required,
.blurb h4 img {
  color: $lavender;
}

/* some labels are misbehaving (namely edit skin: parent skins) so trying this */
#main .verbose legend {
  background: transparent;
}

/* sets base colours for oodles of elements */
.group,
.group .group,
.region,
fieldset,
fieldset fieldset ul,
form dl,
.verbose fieldset,
ul.notes,
table,
th,
td:hover,
tr:hover,
.symbol .question:hover,
.ui-sortable li,
.required .autocomplete,
.autocomplete .notice,
div.dynamic,
.dynamic form,
#ui-datepicker-div,
.ui-datepicker table {
  background: $base;
  border-color: $surface2;
  color: $text;
}

.picture .header {
  border: 0;
}

.dropdown-toggle {
  border-radius: 0 !important;
}

.secondary {
  border: 0;
}

/* small blue pop for expandables — e.g., download on works */
ul.expandable.secondary {
  border: 0;
  background: $rosewater;
}

/* nix border on toggle forms like bookmarks */
.toggled form {
  background: $base;
  border: 0;
}

li.blurb,
fieldset,
form dl {
  border: 0;
  padding: 1em;
  overflow: hidden;
}

/* ---+ 03. ACTIONS +--- */

legend .action:link {
  margin: 0 0.5em;
}

/* action buttons and some nav buttons */
button,
input[type="submit"],
.action,
.action:link,
.actions a,
.actions a:link,
.actions input,
.actions label,
.current,
.flash.notice .action {
  background: $surface0;
  border-color: transparent; /* nix lines while keeping white space */
  color: $text;
}

/* active button behaviours (mostly) */
#outer .current,
legend .action:link:active,
input:active[type="submit"],
a.current,
label.action:active,
span.unread,
span.claimed,
.action a:active,
.actions a:active,
.actions a:active:visited,
.current a:visited,
.flash.notice .action:active,
.flash.notice .action:active:visited,
.replied,
.own,
.draft,
.draft .unread,
.child,
.unwrangled,
.unreviewed,
.ui-sortable li:hover {
  background: $crust;
  border-color: transparent;
  color: $text;
}

/* button/actions hover */
legend .action:link:hover,
input:hover[type="submit"],
label.action:hover,
input.button:hover,
.action:hover,
.action a:hover,
.action a:link:hover,
.actions a:focus,
.actions a:hover,
.actions a:link:hover,
.actions a:visited:hover,
.actions a:focus:visited,
.actions input:hover,
.actions input:focus,
.flash.notice .action:hover,
.flash.notice .action:visited:hover,
.work.index.group .actions li a:hover,
.work.index.group .actions li a:visited:hover {
  background: $surface1;
  border-color: transparent;
  color: $text;
}

/* button/actions visited */
.actions a:visited,
.action a:link,
.action a:visited,
.blurb h4 a:visited,
.listbox .heading a:visited {
  color: $surface2;
}

dl.meta {
  border: 0;
}

ul.actions,
p.actions,
li.actions,
span.actions,
fieldset.actions,
dd.actions {
  padding: 0.429em 0.25em 0.25em 0;
  float: right;
  text-align: center;
}

/* arrow to-the-top buttons on fandoms page */
.action.top a:active {
  background: transparent;
}

/* ---+ 04. HEADER +--- */

/* dark header bg at the top */
#header {
  background: $mantle !important;
  margin: 0;
  color: $text;
  font-size: 0.875em;
  position: relative;
}

#header .heading {
  float: left;
  padding: 0.5em;
}

#header li {
  display: block;
  float: left;
  position: relative;
}

#header a,
#header a:visited,
#header .heading a:visited,
#header .primary .open a,
#header .primary .open a:focus,
#header .primary .dropdown:hover a,
#header .user a:focus,
.filters dt a:hover {
  color: $text;
}

#header .actions a:hover,
#header .actions a:focus,
#header .dropdown:hover a,
#header .open a {
  background: $subtext1;
}

/* header nav buttons as blue: fandoms/browse/search/about */
#header {
  .actions a {
    background: transparent;
    border-color: transparent;
    color: $text;
  }

  #greeting .actions a {
    color: $text;
  }
}

#header .actions a:active,
#header .actions a:focus {
  background: transparent;
  color: $text;
}

/* header dropdown menu bgs */
#header .actions a:hover,
#header .dropdown:hover a,
#header /*.primary*/ .dropdown a:focus,
#header .user .open a:focus {
  background: $surface2;
  color: $text;
}

/* dropdowns are hover colour */
#header .dropdown .menu a,
#greeting .dropdown .menu a {
  background: $surface2;
  border-color: $surface2;
  color: $text;
  display: block;
  padding: 0.75em 0.5em 0.75em 0.5em;
}

/* dropdown menu links with dark hover */
#header .dropdown .menu a:focus,
#header .dropdown .menu a:hover {
  background: $mantle;
  color: $text;
}

#header .dropdown .menu a:hover,
#greeting .dropdown .menu a:hover {
  border-radius: 0;
}

/* nix lines in header nav */
#header .dropdown .menu li {
  border: 0;
  margin: auto;
}

#header .heading a {
  color: $text;
  font-size: 1.714em;
  line-height: 1.75;
}

#header .heading sup {
  font-size: 0.583em;
  font-style: italic;
}

#header .logo {
  float: left;
  height: 42px;
}

/* "archiveofourown beta" lighter text pop on active */
#header .heading a:active {
  color: $rosewater;
}

#header .landmark {
  clear: none;
  font-size: 0;
  border: 0;
}

#header .primary {
  background: $surface0;
  color: $base;
  padding: 0;
  width: 100%;
}

#header .menu,
#greeting .menu {
  padding: 0;
}

/* "archiveofourown beta" text pop on hover */
#header #greeting img,
#header fieldset,
#header form,
#header p,
#header .heading a:focus,
#header .heading a:hover,
#header .heading a:hover:visited,
#tos_prompt .heading {
  color: $rosewater;
}

/* stay square, nav buttons */
#header ul.primary {
  border-radius: 0 !important;
  width: 100%;
}

#header .menu li {
  border-bottom: 0;
  margin: 0 0.25em;
  text-align: left;
}

#header .menu li:last-child {
  border-bottom: 0;
}

#header .open a,
#small_login {
  background: $mantle;
}

/* user/post/login not blue */
#header .user a {
  background: transparent;
  border: transparent;
}

/* user/post/login drowndown border rounding is consistent */
#header .user .dropdown-toggle {
  border-radius: 0.25em 0.25em 0 0 !important;
}

#outer .group .heading,
fieldset.listbox .heading,
.userstuff .heading,
.userstuff h2 {
  background: none;
  color: $text;
}

/** SEARCH SECTION **/

#header .search {
  float: right;
  color: $text;
  margin-right: 0.25em;
}

#header #search .text,
#header #search .button {
  border: 0;
}

/* small margin fix in searchbar */
#header #search .text {
  margin: 0.3em 0.43em;
}

#header #search .button {
  border-radius: 1em;
  margin: 0;
}

/* header searchbar colours */
#header #search .text,
#header #search .text:active {
  background: $base;
}

/* header searchbar colours */
#header #search input:focus,
#header #search .text:focus,
#header #search .text:hover {
  background: $surface0;
  border-color: transparent;
  color: $text;
}

/* header searchbar remain round */
#header form.search input[type="text"] {
  border-radius: 1em;
}

#header .search {
  display: none !important;
}

/* gives user greeting some breathing room */
#greeting {
  padding: 0.5em 0;
}

#greeting .user > li {
  margin: 0 0.125em;
}

#greeting .menu {
  right: 0;
}

#header input,
#header #search > *,
#header #search .submit {
  display: inline;
  float: none;
}

/* check login and greeting; was a quick fix to remove bg */
#header a,
#header fieldset,
#header form,
#header p,
#header li,
#header h1,
#small_login dl {
  background: transparent;
  font-size: 100%;
  border: 0;
  padding: 0;
  margin: 0;
  border-radius: 0;
}

/* collections header */
#header h2 {
  border-top: 0;
  clear: both;
  color: $text;
  display: block;
  font-size: 1.714em;
  line-height: 1.5;
  margin: 0;
  padding: 0 0.375em;
}

/* ---+ 05. MAIN +--- */

/* nix h3 and news underlines on main splash */
.splash .module h3 {
  border: 0;
  color: $rosewater;
}

.splash .browse li a,
.splash .favorite a {
  border-radius: 0;
}

.splash .comment .userstuff {
  margin: inherit;
}

.splash .favorite li a {
  background: $surface0;
  border: 1px solid transparent;
}

.splash .favorite li a:hover {
  background: #eee;
  border-color: #eee;
  color: $surface0;
}

.splash .favorite li a:visited {
  color: $lavender;
}

.splash .favorite li:nth-of-type(odd) a:focus,
.splash .favorite li:nth-of-type(odd) a:hover,
.splash .favorite li:nth-of-type(odd) a:visited:hover {
  background: #eee;
  border-color: #eee;
  color: $surface0;
}

/* nix news underlines on main splash */
.splash .news li {
  border: 0;
}

/* preserves unread comment padding on splash page */
.abbreviated h4.byline {
  padding-left: 83px !important;
}

/* ---+ 06. FOOTER +--- */

#outer #footer {
  background: $mantle;
}

#outer .region,
#footer .group {
  background: none;
}

/* nix the top border in the footer */
#footer {
  border: 0;
}

/* ao3 blue accent on hover */
#footer a:hover,
#footer a:focus {
  background: transparent;
  color: $rosewater;
}

/* give the footer nav text a readable pillow */
#footer ul.actions {
  background-color: $base;
}

/* ---+ 07. WORK READING ADJUSTMENTS +--- */

/* WARNING:
   note: this change likely can (and will) royally screw up writers' work skins
*/

#workskin {
  padding: 0;
  margin: 0;
}

.work.meta.group {
  border-radius: 0.25rem;
  padding: 1rem;
  margin-top: 1rem;
}

/* work serif fonts */
#chapters .userstuff a,
#chapters .userstuff p,
#chapters .userstuff ol,
#chapters .userstuff ul {
  /* font choices go here ↓ */
  font-family: "Charter", "IBM Plex Serif", "Palatino Linotype", "Palatino",
    "Literata", "Georgia", serif;
  font-size: 1.25em;
}

/* links don't be big stop it */
#chapters .userstuff a {
  font-size: revert;
}

/* unfortunately blockquotes get weird with more white space so gotta fix that */
#chapters .userstuff blockquote {
  margin-left: 5em;
  margin-right: 5em;
}

/* wrangle p margins within blockquotes */
#chapters .userstuff blockquote p {
  margin-left: 1em;
  margin-right: 1em;
}

/* scrunches code in-work a little */
#chapters .userstuff code {
  font-size: 0.8em;
}

/* line height is not a bad thing give it back */
#chapters .userstuff ol {
  line-height: inherit;
}

/* embiggen fic margins! in this house we appreciate white space */
#chapters .userstuff p {
  margin-left: 2.5em;
  margin-right: 2.5em;
}

/* slightly bigger pre because otherwise it looks like it's for ants */
#chapters .userstuff pre {
  font-size: 1em;
}

/* in work, boxes summary + author notes */
.notes.module,
.summary.module {
  background: $base;
  border-radius: 0.5em;
  font-size: 0.65rem;
  margin-top: 1rem !important;
}

.userstuff h3 {
  border-bottom: 1px solid #78777d;
}

div.preface {
  border-radius: 0.25rem;
  background: transparent;
  margin: 0;
  margin-block: 1rem;
  padding: 0.75rem;
  float: none;
}

div.preface .module {
  float: none;
  margin: 0;
  padding: 1rem;
  width: auto;
}

/* nix border at the top of work page */
.chapter .preface {
  border: none;
}

.preface h3 {
  background: transparent;
  border-bottom: 0;
}

.preface h2.title {
  display: block;
  border-bottom: 0;
  clear: right;
}

div.preface .title,
div.preface .byline {
  border: 0;
  text-align: center;
  text-decoration: none;
}

.preface a:hover {
  text-decoration: none;
}

.preface blockquote {
  border: 0;
}

div.preface .notes,
div.preface .summary,
div.preface .series,
div.preface .children {
  min-height: 5em;
}

div.preface .series ul,
div.preface .children ul {
  padding: 0 0.65em;
}

div.preface .associations {
  margin-bottom: 1.5em;
}

div.preface .jump {
  margin-top: 1.5em;
}

/* dump summary further below title */
div.summary.module {
  margin-top: 2em;
}

div.afterword {
  margin-bottom: 2.5em;
}

div.afterword .series h3,
div.afterword .children h3 {
  border-bottom: none;
}

/* ---+ 08. COMMENTS +--- */

/* nix border outside the add comment box */
#add_comnent,
#add_comment div.comment,
div.comment {
  border: 0;
}

#add_comment div.comment,
fieldset fieldset,
.comment fieldset,
.post fieldset fieldset {
  background: none;
}

/* pretties up comments */
li.comment {
  background: $mantle !important;
  border: transparent;
  border-radius: 0.25em;
  margin: 1em 0;
  padding: 0.5em 1em;
}

/* something was misbehaving so this had to happen now it's the next day and i don't remember what it actually does */
.actions li label {
  display: revert;
}

/* scoots comment user icon over + accommodates new comment padding */
.comment div.icon {
  margin: -1.5em 0.75em 0.5em 0;
  border: 0;
}

.comment h4.byline {
  margin-top: 0.375em;
  /* padding: 0 .25em .25em 110px; */
}

/* new comment padding FINALLY */
.comment .userstuff {
  margin: 1em 0;
  min-height: 3.3em;
}

/* ---+ 09. TAGS +--- */

a.tag:hover {
  background: transparent;
}

/* tag-specific link attributes — makes tag bubbles! */
.bookmark.blurb .commas a.tag,
.series.blurb .commas a.tag,
.work.blurb .commas a.tag,
.work.meta .commas a.tag {
  background: $surface0;
  border: 1px solid transparent;
  border-radius: 0.75em;
  color: #eee;
  display: inline-block;
  font-size: 0.9em;
  margin: 1px 0;
  overflow: hidden;
  padding: 0.5px 6px;
  text-decoration: none;
  text-overflow: ellipsis;
}

/* specific to edit work tags page */
.work.meta .autocomplete li.added.tag {
  background: $surface0;
  border: 1px solid transparent;
  border-radius: 0.75em;
  color: #eee;
  display: inline-block;
  font-size: 0.9em;
  margin: 1px 6px 1px 0;
  overflow: hidden;
  padding: 1px 2px 1px 9px;
  text-decoration: none;
  text-overflow: ellipsis;
}

/* tag bubble hover colours */
.bookmark.blurb .commas a.tag:hover,
.series.blurb .commas a.tag:hover,
.work.blurb .commas a.tag:hover,
.work.meta .commas a.tag:hover {
  background: $overlay2;
  border-color: $overlay2;
  color: $base;
}

/* tag bubble visited colours */
.bookmark.blurb .commas a.tag:visited,
.series.blurb .commas a.tag:visited,
.work.blurb .commas a.tag:visited,
.work.meta .commas a.tag:visited,
.work.meta .autocomplete li.added.tag:visited {
  background: $surface0;
  border-color: $surface0;
  color: $subtext0;
}

/* tag bubble visited hover colours */
.bookmark.blurb .commas a.tag:visited:hover,
.series.blurb .commas a.tag:visited:hover,
.work.blurb .commas a.tag:visited:hover,
.work.meta .commas a.tag:visited:hover {
  background: $overlay2;
  border-color: $overlay2;
  color: $base;
}

/* characters tag colours */
.bookmark.blurb .commas li.characters a,
.series.blurb .commas li.characters a,
.work.blurb .commas li.characters a,
.work.meta .character.tags .commas li a,
.work.meta .character li.added.tag {
  background: $green;
  border-color: $green;
  color: $base;
}

/* characters tag hover colours */
.bookmark.blurb .commas li.characters a:hover,
.series.blurb .commas li.characters a:hover,
.work.blurb .commas li.characters a:hover,
.work.meta .character.tags .commas li a:hover {
  background: $overlay2;
  border-color: $overlay2;
  color: $base;
}

/* characters tag visited colours */
.bookmark.blurb .commas li.characters a:visited,
.series.blurb .commas li.characters a:visited,
.work.blurb .commas li.characters a:visited,
.work.meta .character.tags .commas li a:visited,
.work.meta .character li.added.tag:visited {
  background: color.scale($green, $lightness: -10%);
  border-color: color.scale($green, $lightness: -10%);
  color: $base;
}

/* character tag visited hover colours */
.bookmark.blurb .commas li.characters a:visited:hover,
.series.blurb .commas li.characters a:visited:hover,
.work.blurb .commas li.characters a:visited:hover,
.work.meta .character.tags .commas li a:visited:hover {
  background: $overlay2;
  border-color: $overlay2;
  color: $base;
}

/* relationships tag colours */
.bookmark.blurb .commas li.relationships a,
.series.blurb .commas li.relationships a,
.work.blurb .commas li.relationships a,
.work.meta .relationship.tags .commas li a,
.work.meta .relationship li.added.tag {
  background: $blue;
  border-color: $blue;
  color: $base;
}

/* relationships tag hover colours */
.bookmark.blurb .commas li.relationships a:hover,
.series.blurb .commas li.relationships a:hover,
.work.blurb .commas li.relationships a:hover,
.work.meta .relationship.tags .commas li a:hover {
  background: $overlay2;
  border-color: $overlay2;
  color: $base;
}

/* relationships tag visited colours */
.bookmark.blurb .commas li.relationships a:visited,
.series.blurb .commas li.relationships a:visited,
.work.blurb .commas li.relationships a:visited,
.work.meta .relationship.tags .commas li a:visited,
.work.meta .relationship li.added.tag:visited {
  background: color.scale($blue, $lightness: -10%);
  border-color: color.scale($blue, $lightness: -10%);
  color: $base;
}

/* relationship tag visited hover colours */
.bookmark.blurb .commas li.relationships a:visited:hover,
.series.blurb .commas li.relationships a:visited:hover,
.work.blurb .commas li.relationships a:visited:hover,
.work.meta .relationship.tags .commas li a:visited:hover {
  background: $overlay2;
  border-color: $overlay2;
  color: $base;
}

/* warning tag colours */
.bookmark.blurb .commas li.warnings a,
.series.blurb .commas li.warnings a,
.work.blurb .commas li.warnings a,
.work.meta .warning.tags .commas li a {
  background: $red;
  border-color: $red;
  color: $base;
}

/* warning tag hover colours */
.bookmark.blurb .commas li.warnings a:hover,
.series.blurb .commas li.warnings a:hover,
.work.blurb .commas li.warnings a:hover,
.work.meta .warning.tags .commas li a:hover {
  background: $overlay2;
  border-color: $overlay2;
  color: $base;
}

/* warning tag visited colours */
.bookmark.blurb .commas li.warnings a:visited,
.series.blurb .commas li.warnings a:visited,
.work.blurb .commas li.warnings a:visited,
.work.meta .warning.tags .commas li a:visited {
  background: color.scale($red, $lightness: -10%);
  border-color: color.scale($red, $lightness: -10%);
  color: $base;
}

/* warning tag visited hover colours */
.bookmark.blurb .commas li.warnings a:visited:hover,
.series.blurb .commas li.warnings a:visited:hover,
.work.blurb .commas li.warnings a:visited:hover,
.work.meta .warning.tags .commas li a:visited:hover {
  background: $overlay2;
  border-color: $overlay2;
  color: $base;
}

/* de-bubble rating/cat/fandom */
.work.meta .category.tags .commas a,
.work.meta .fandom.tags .commas a,
.work.meta .rating.tags .commas a {
  background: transparent;
  border: 0;
  border-bottom: 1px dotted #eee;
  border-radius: 0;
  font-size: revert;
  margin: revert;
  padding: inherit;
}

.work.meta .category.tags .commas a:hover,
.work.meta .category.tags .commas a:visited:hover,
.work.meta .fandom.tags .commas a:hover,
.work.meta .fandom.tags .commas a:visited:hover,
.work.meta .rating.tags .commas a:hover,
.work.meta .rating.tags .commas a:visited:hover {
  border-bottom: 1px dotted $rosewater;
  color: $base;
}

/* de-bubble fandom labels in work blurbs/work page */
.work.meta .category.tags .commas a:visited,
.work.meta .fandom.tags .commas a:visited,
.work.meta .rating.tags .commas a:visited {
  border-bottom: 1px dotted $subtext0;
  border-radius: 0;
  color: $subtext0;
}

/* ---+ 10. WORK BLURB CLEANUP +--- */

/* turn down the lights on work blurb bgs */
#main li.blurb {
  background: $mantle;
  border-color: transparent;
  border-radius: 0.25em;
  padding: 0.5em 1em;
  margin: 1em 0;
}

.bookmark .user {
  border: 0;
  margin-top: 0.65em;
  padding: 0.429em 0.75em;
  overflow: hidden;
}

.blurb .datetime,
.datetime {
  font-size: small;
  line-height: 1.25;
}

/* makes tag scroll box for those 10000+ tag fics so you don't have to scroll for like ten minutes */
li.blurb .tags {
  max-height: 8em;
  overflow-y: auto;
}

/* pretty sure these are the blurb key symbol blocks */
ul.required-tags,
.blurb .icon,
.bookmark .status span {
  border: 0;
  opacity: 0.9;
}

/* cushion work blurb stats, align with bottom of listbox */
.blurb dl.stats {
  margin-top: 1em;
  margin-bottom: 0.55em;
  line-height: 1.25;
}

/* gives work blurb some cushion between bottom buttons */
.blurb blockquote {
  margin: 0.5em auto 1em auto;
}

/* adjust padding near edit/tags blurb buttons */
.blurb .actions li {
  padding: 0 0.25em 0 0;
}

/* adjusts blurb header with rest of blurb bg */
.blurb .header .heading {
  margin: 0.375em 5.25em 0 65px;
}

/* gets rid of commas after tags because bubbles */
.commas li::after {
  content: none;
}

/* trims padding off the last child (sorry kiddo) */
.commas li.last {
  padding: 0;
}

/*
padding problem between li classes i gotta fix
(ref: dl.meta dd ul li:first-child) 

li.warnings a:last-child,
li.relationships a:last-child,
li.characters a:last-child {
}

ul.commas

.commas.warnings li:last-child {
	padding-right: .5em;
	
}

ul.tags.commas li.characters:first-child {
	padding-left: .25em;
}
 
*/

/* knock tag bubbles on work page back into alignment */
.meta dd ul li {
  padding-right: 0.5em;
  padding-left: 0;
}

/* de-bubble bookmarker tags */
.bookmark.blurb .meta.tags.commas a.tag {
  background: revert;
  border: 0;
  border-bottom: 1px dotted #fff;
  border-radius: revert;
  color: $text;
  display: inline;
  padding: revert;
}

/* de-bubble bookmarker hover tags */
.bookmark.blurb .meta.tags.commas a.tag:hover {
  color: $rosewater;
}

/* de-bubble bookmark hover tags */
.meta.tags.commas .tag:hover,
.meta.tags.commas .tag:visited:hover {
  background: transparent;
}

/* stops blockquotes in work blurbs from inheriting margins */
.summary.userstuff blockquote {
  margin: 0 1.5em !important;
  padding: 0.25em 0.75em;
}

/* some white space between tag block and rest of the work blurb */
.tags.commas {
  margin: 0.5em 0;
}

/* cleans up user history work blurbs */
.user.module.group {
  background: transparent;
  margin-top: 0.75em;
  padding: 0.375em 0 0 0;
}

/* ---+ 11. MESSAGES & TOOLTIPS +--- */

#modal {
  background: $base;
  border: 0;
  border-radius: 0.5em;
  color: #eee;
}

#modal .content {
  border: 0;
}

#modal .footer {
  bottom: 0;
  height: 44px;
  left: 0;
  line-height: 44px;
  padding: 0.5em 1em;
  right: 0;
  position: absolute;
}

#modal .footer .action.modal-closer {
  bottom: 1em;
  position: absolute;
  right: 1em;
}

#modal .footer a.action.modal-closer:active {
  background: #0b0b0b;
  border-color: transparent;
  color: $text;
}

#modal .footer a.action.modal-closer:hover,
#modal .footer a.action.modal-closer:focus,
#modal .footer a.action.modal-closer:visited:hover {
  background: #4e4e5e;
  border-color: transparent;
  color: $text;
}

.error,
.comment_error,
.kudos_error,
.LV_invalid,
.LV_invalid_field input.LV_invalid_field:hover,
input.LV_invalid_field:active,
textarea.LV_invalid_field:hover,
textarea.LV_invalid_field:active,
.qtip-content,
.system .intro {
  background: $base;
  border-color: $rosewater;
  color: $text;
}

.flash,
.notice {
  background: transparent;
  border-color: $rosewater;
  color: $text;
  padding: 0.5em 0.375em;
}

#outer,
.javascript,
#tos_prompt,
.announcement input[type="submit"] {
  background: $base;
}

form dd.required,
.event.announcement .userstuff a,
.filters .expander {
  color: $text;
}

.announcement .userstuff a,
.announcement .userstuff a:link,
.announcement .userstuff a:visited:hover {
  color: $rosewater;
}

.announcement .userstuff a:visited {
  color: $lavender;
}

.announcement .userstuff a:hover,
.announcement .userstuff a:focus {
  color: $lavender;
}

.bookmark .status span {
  border-color: $surface2;
}

/* nix white in tooltip dropdown bg */
.dropdown {
  background: none;
}

.mce-container input:focus {
  background: $surface0;
}

/* help buttons get weird in the sidebar so this is a shrink ray */
.help.symbol.question.modal.modal-attached {
  font-size: 0.75em;
}

/* search tooltip adjustments */
.search [role="tooltip"] {
  background: $base;
  border: 1px solid $overlay0;
  border-radius: 0.25em;
  color: $text;
  margin: 0.65em auto;
  padding: 0.25em 0.375em;
}

/* from reversi */
.splash .favorite li:nth-of-type(odd) a,
.ui-datepicker td:hover,
#tos_prompt .heading,
#tos_prompt [disabled] {
  background: $mantle;
}

/* ao3 blue accent on help (?) hover */
.symbol .question,
.qtip-content {
  background: transparent;
  color: $rosewater;
}

/* ---+ 12. DASHBOARD +--- */

#dashboard,
#dashboard.own {
  border-color: $rosewater;
}

#dashboard a,
#dashboard span {
  color: $text;
}

#dashboard a:active,
#dashboard .current {
  background: $mantle;
  border-color: transparent;
  color: $text;
}

#dashboard a:focus,
#dashboard a:hover {
  background: $crust;
  color: $text;
}

/* nix dash button lines */
#dashboard ul {
  border: 0;
}

/* dark dashboard backdrop, smaller font size, more padding */
#dashboard.own {
  background: $crust;
  border-top: 0em solid transparent;
  border-bottom: 0em solid transparent;
  font-size: 0.85em;
  margin: 1.75em;
  padding-block: 0.25em;
  padding-inline: 1rem;
}

#main.dashboard {
  margin: 1rem;
}

/* ---+ 13. STATS PAGE +--- */

/* smooth stats page borders, dark bg */
.statistics .fandom.listbox.group {
  background: transparent;
  border: $mantle;
  border-radius: 0.25em;
  margin: 1em 0;
}

.statistics .fandom ul.index.group {
  background: $mantle !important;
  border-radius: inherit;
  padding: 0.15em 0.65em;
}

/* cushion for h5 on stats page */
.statistics .listbox h5.heading {
  font-size: 1.1em;
  margin: 0.75em 0 !important;
}

/* adjusts stats spacing */
.statistics .index dd {
  margin: 1em 0 0.5em 0 !important;
}

/* adjusts stats spacing */
.statistics .index li {
  border-radius: inherit;
  margin: 0.5em 0;
  padding: 0.5em;
}

/* even entries get a cool different colour */
.statistics .index li:nth-of-type(even) {
  background: $surface0;
}

/* ---+ 14. OTHER PAGES +--- */

/* grabbed from ao3 core */
.listbox,
fieldset fieldset.listbox {
  clear: right;
  background: #16151b;
  border: 0;
  border-radius: 0.25em;
  padding: 0;
  margin: 0.75em auto;
  overflow: hidden;
}

/* edit multiple works page: now all/none buttons should align with h5 */
#edit-multiple-works a.check_all,
#edit-multiple-works a.check_none {
  margin: -2px 0.15em 0 0.15em;
}

/* edit multiple works page: nix borders and backgrounds */
#edit-multiple-works .fandom.listbox {
  border-color: transparent;
  border-radius: 0.25em;
  background: transparent;
}

/* edit multiple works page: tweak all/none button ul margins */
#edit-multiple-works .fandom.listbox ul.actions {
  margin: 0 0 0.5em 0;
}

/* edit multiple works page: nix all/none button li margins */
#edit-multiple-works .fandom.listbox ul.actions li {
  margin: 0;
}

/* banish noisy lines and background for: user fandoms, works, series, bookmarks */
/*#user-fandoms,
#user-fandoms ol,*/
#user-works,
#user-works ul,
#user-series,
#user-series ol,
#user-bookmarks,
#user-bookmarks ol {
  background: transparent;
  border-color: transparent;
}

// #user-fandom .fandom.listbox.group {
// }

/* banishes giant black bar on subs/related works pages */
dl.index dd,
dl.index dt {
  background: transparent;
  border: transparent;
}

/* wrangles buttons/details directly below titles on subs/related works pages */
dl.index dd {
  margin: 0.25em 0.25em 1.25em 0;
}

/* edit multiple works: kill background behind checkboxes */
.concise label.action {
  background: transparent;
}

/* edit multiple works: darker bg */
.listbox ul.index.concise {
  background: $mantle;
  border-radius: inherit;
}

/* bookmark buttons align with blurb padding */
.bookmark .actions {
  padding: 0;
}

/* adjust bookmark icons */
.bookmark.blurb p.status {
  right: 0.5em;
}

.bookmark .datetime {
  top: 30px;
}

/* changed bookmark box colours; might tweak more */
.bookmark div.user,
.bookmark div.recent {
  background-color: $mantle;
  border: 0;
}

/* additional tags category, cleans up tag category pages */
.bookmark.listbox.group,
.bookmark.listbox.group ul.index.group,
.parent.listbox.group,
.work.listbox.group,
.work.listbox.group ul.index.group {
  background: transparent;
  border: 0;
}

/* remove blurb header bg on collection entries */
.collection .header.module.group {
  background: transparent;
}

/* ao3 blue accent on hover */
.listbox .heading a.tag:visited:hover {
  background: transparent;
  color: $rosewater;
}

/* ALL the listbox bgs transparent?? i guess */
.listbox .index {
  background: transparent;
}

/* nix line on user dashboard/profile */
.home .header h2 {
  border: 0;
}

/* for mobile: now the nav buttons on user screen no longer clip into user icon */
.home .header ul.actions {
  max-width: 70%;
  text-align: right;
}

/* icon was misbehaving in header on dashboard/profile, now NO ONE floats */
.profile .primary,
.home .primary {
  float: none;
}

/* space bewteen h3 and listbox on fandoms page */
.medium.listbox .index.group {
  margin: 0.5em 0;
}

.tags.commas.index.group {
  background: transparent;
}

/* ---+ 15. SORT & FILTER SIDEBAR +--- */

/* S&F margin adjustment */
#bookmark-filters fieldset,
#work-filters fieldset {
  margin: 0 0.65em;
  padding: 0 0.65em;
}

/* S&F margin adjustment */
#bookmark-filters fieldset dl,
#work-filters fieldset dl {
  margin: 0.65em 0;
}

/* shortens S&F input boxes because otherwise the right end runs off the page */
#collection_filters_title_autocomplete,
#collection_filters_fandom_autocomplete,
#bookmark_search_excluded_bookmark_tag_names_autocomplete,
#bookmark_search_excluded_tag_names_autocomplete,
#bookmark_search_other_bookmark_tag_names_autocomplete,
#bookmark_search_other_tag_names_autocomplete,
#bookmark_search_bookmark_query,
#bookmark_search_bookmarkable_query,
#work_search_excluded_tag_names_autocomplete,
#work_search_other_tag_names_autocomplete,
#work_search_query,
#work_search_words_from,
#work_search_words_to,
#work_search_date_from,
#work_search_date_to {
  padding: 1px 0 1px 0;
  width: 99%;
}

/* slightly smaller text for collapsed filter criteria */
#include_rating_tags,
#exclude_rating_tags,
#include_archive_warning_tags,
#exclude_archive_warning_tags,
#include_category_tags,
#exclude_category_tags,
#include_fandom_tags,
#exclude_fandom_tags,
#include_character_tags,
#exclude_character_tags,
#include_relationship_tags,
#exclude_relationship_tags,
#include_freeform_tags,
#exclude_freeform_tags,
#include_tag_tags,
#exclude_tag_tags {
  font-size: 0.9em;
}

/* slight space between S&F labels and their input */
.filters .group dt.bookmarker,
.filters .group dt.language,
.filters .group dt.search,
.filters .group dt.options {
  margin: 0.2em 0 0 0;
  padding: 0.25em 0;
}

/* adjust margins on dds containing input */
.filters .group dd.language,
.filters .group dd.search,
.filters .group dd.options,
.filters .more dd.search,
dd.options ul li {
  margin: 0.2em 0;
}

/* slight space between S&F headings */
dt.include.heading,
dt.exclude.heading,
dt.more.heading {
  margin-bottom: 0.15em;
}

/* adjust S&F dl containers because the margins obscure input boxes */
dd.include.tags.group dl,
dd.exclude.tags.group dl,
dd.more.group dl,
dt.search dd {
  margin: 0;
}

/* ao3 blue accent on autocomplete hover */
.autocomplete .dropdown ul li:hover,
.autocomplete .dropdown li.selected {
  background: transparent;
  color: $rosewater;
}

/* this is the part where the sort and filter arrow .gifs are taken out */
.filters .expander,
.filters .expanded .expander {
  background: transparent;
}

/* and replaced! hi, meet right unicode arrow */
.filters .expander::before {
  content: #{'"'} + string.unquote("\\") + 23F5 + string.unquote("\\") + 00A0 + #{'"'};
}

/* and left unicode arrow */
.filters .expanded .expander::before {
  content: #{'"'} + string.unquote("\\") + 23F7 + string.unquote("\\") + 00A0 + #{'"'};
}

/* parent expander buttons are too far in, so they're scooching over a skosh */
.filters button.expander {
  padding: 0;
}

/* opposite with the kiddos */
#work_crossover li,
#work_complete li,
.filters .tags li {
  padding-left: 0.75em;
}

/* gets rid of extra lines in S&F sidebar */
form dl dt,
.filters dt {
  border-bottom: 0;
}

/* fix search bars in work search because they're. A Lot */
form.search input[type="text"] {
  border-color: #78777d;
  border-radius: 0.25em;
}

fieldset,
form.verbose legend,
.verbose form legend,
.filters .group dt.bookmarker {
  border: 0;
}

fieldset fieldset.listbox,
.group.listbox {
  background: transparent;
  border-color: transparent;
  border-radius: 0.25em;
}

/* trying to make some boxes behave */
.group.listbox .index {
  background: $mantle;
  border-radius: 0.25em;
}

form dl dt,
form.single fieldset {
  border-color: #78777d;
}

/* ---+ 16. MISC +--- */

/*
====================================================
REPLACE THE AO3 DEFAULT ICONS AND IMAGES
====================================================
*/

/* ======= NEW IMAGESET ======= */

.required-tags .rating-notrated,
.required-tags .rating-general-audience,
.required-tags .rating-explicit, 
.required-tags .rating-mature, 
.required-tags .rating-teen, 
.required-tags .category-femslash, 
.required-tags .category-gen, 
.required-tags .category-slash, 
.required-tags .category-none,
.required-tags .category-het, 
.required-tags .category-multi,
.required-tags .category-other, 
.required-tags .complete-no, 
.required-tags .complete-yes, 
.required-tags .warning-yes, 
.required-tags .warning-no, 
.required-tags .warning-choosenotto, 
.required-tags .external-work, 
.status .private .text, 
.status .public, 
.status .hidden, 
.status .rec, 
.status .count, 
.index .skins .icon, 
.index .mystery .icon,
.index .tag .icon,
.index .tagset .icon, 
.comment .icon .anonymous, 
.comment .icon .visitor, 
.abbreviated .icon .visitor, 
.abbreviated .icon .anonymous, 
.skins .primary .icon, 
.admin .primary .icon, 
.tagset .primary .icon, 
.tag .primary .icon,
a.rss span,
p.kudos,
#symbols-key dl img, /* content symbols key */
#bookmark-symbols-key img, /* bookmark symbols key */
img[src$="/images/skins/iconsets/default/icon_user.png"], /* this is the default user icon */
img[src$="/images/skins/iconsets/default/icon_collection.png"], /* this is default collection icon */
img[src$="/images/lockblue.png"] /* this is the lock for restricted works (not originally part of the imageset) */ {
  background-image: url("https://images.squidge.org/images/2024/03/30/AO3_imageset_muted_dark.png"); /* link to the new imageset */
  background-size: 200px 835px; /* size of the new imageset needs to be the same as the original */
}

/*======= SYMBOLS KEYS =======*/

/* sets the size of the icons for the symbols keys */
#symbols-key dl img, /* content symbols key */
#bookmark-symbols-key img /* bookmark symbols key */ {
  width: 0 !important;
  height: 0 !important;
  padding: 25px 0 0 25px;
}

img[src$="/images/skins/iconsets/default/rating-notrated.png"],
img[src$="/images/skins/iconsets/default/category-none.png"],
img[src$="/images/skins/iconsets/default/warning-no.png"] {
  background-position: -150px 0px;
}

img[src$="/images/skins/iconsets/default/rating-general-audience.png"] {
  background-position: -50px -25px;
}

img[src$="/images/skins/iconsets/default/rating-teen.png"] {
  background-position: 0px -25px;
}

img[src$="/images/skins/iconsets/default/rating-mature.png"] {
  background-position: -75px -25px;
}

img[src$="/images/skins/iconsets/default/rating-explicit.png"] {
  background-position: -25px -25px;
}

img[src$="/images/skins/iconsets/default/category-femslash.png"] {
  background-position: -25px 0px;
}

img[src$="/images/skins/iconsets/default/category-het.png"] {
  background-position: -75px 0px;
}

img[src$="/images/skins/iconsets/default/category-gen.png"] {
  background-position: -50px 0px;
}

img[src$="/images/skins/iconsets/default/category-multi.png"] {
  background-position: -100px 0px;
}

img[src$="/images/skins/iconsets/default/category-other.png"] {
  background-position: -125px 0px;
}

img[src$="/images/skins/iconsets/default/warning-choosenotto.png"] {
  background-position: -125px -25px;
}

img[src$="/images/skins/iconsets/default/warning-yes.png"] {
  background-position: -150px -25px;
}

img[src$="/images/skins/iconsets/default/warning-external-work.png"] {
  background-position: -75px -50px;
}

img[src$="/images/skins/iconsets/default/complete-no.png"] {
  background-position: -100px -25px;
}

img[src$="/images/skins/iconsets/default/complete-yes.png"] {
  background-position: -175px -25px;
}

img[src$="/images/skins/iconsets/default/bookmark-rec.png"] {
  background-position: -100px -50px;
}

img[src$="/images/skins/iconsets/default/bookmark-public.png"] {
  background-position: -125px -50px;
}

img[src$="/images/skins/iconsets/default/bookmark-private.png"] {
  background-position: -175px -50px;
}

img[src$="/images/skins/iconsets/default/bookmark-hidden.png"] {
  background-position: -150px -50px;
}

/* ======= DEFAULT ICONS + LOCK FOR RESTRICTED WORKS ======= */

/* hides the "old" default icons and the "old" lock for restricted works */
img[src$="/images/skins/iconsets/default/icon_user.png"],
img[src$="/images/skins/iconsets/default/icon_collection.png"],
img[src$="/images/lockblue.png"] {
  width: 0 !important;
  height: 0 !important;
}

/* default user icon */
img[src$="/images/skins/iconsets/default/icon_user.png"] {
  padding: 100px 0 0 100px;
  background-position: 0px -75px;
}

/* default user index icon */
.index img[src$="/images/skins/iconsets/default/icon_user.png"] {
  padding: 55px 0 0 55px;
  background-position: 0px -525px;
}

/* abbreviated default user icon */
/* used for unread messages on splash page (idk if anywhere else) */
.abbreviated img[src$="/images/skins/iconsets/default/icon_user.png"] {
  padding: 75px 0 0 75px;
  background-position: 0px -375px;
}

/* little default user icon in header */
#greeting img[src$="/images/skins/iconsets/default/icon_user.png"] {
  padding: 1.786em 0 0 1.786em;
  background-position: 0 -19px;
  background-size: 201% !important;
}

/* default collection icon */
img[src$="/images/skins/iconsets/default/icon_collection.png"] {
  padding: 100px 0 0 100px;
  background-position: -100px -175px;
}

/* default collection index icon */
.index img[src$="/images/skins/iconsets/default/icon_collection.png"] {
  padding: 55px 0 0 55px;
  background-position: -55px -525px;
}

/* the lock for restricted works */
img[src$="/images/lockblue.png"] {
  padding: 15px 0 0 15px;
  background-position: -155px -305px;
}

/*======= AO3 LOGO IN HEADER =======*/
/* just delete this part of the code if you don't want to replace the logo */

/* this replaces the logo with a higher quality version */
#header .logo {
  content: url("/images/logo.png");
}

/*
===========
Stats Icons
===========
*/
dl.stats dt {
  display: none;
}

.skins .header dl.stats dt {
  display: inline-block;
}

/*for the series in the bookmarks page*/
dl.stats dd:nth-of-type(1)::before {
  /*words*/
  background: url(https://64.media.tumblr.com/fff96d500a04ddf12517a48d83b228d2/b2e751421a20aa0c-a7/s100x200/c848a67de8f463ccdafa5b60948c61a172d5fe24.png);
}

dl.stats dd:nth-of-type(2)::before {
  /*works*/
  background: url(https://64.media.tumblr.com/f835b437a474b4b672a8d4ebe61402b8/8979adde76f2ff05-fb/s100x200/8f86556b6896e96427f5a4a54f0de7be38ddba75.png);
}

dl.stats dd.language::before {
  display: none !important;
}

/*work blurb*/
dl.stats dd.kudos::before {
  /*kudos*/
  background: url(https://64.media.tumblr.com/23a3c6f134a96386f50fb8982a353590/8b704f26c7323545-01/s100x200/31e25f0be03646918168c4d49bd2ee9733b2cd59.png);
}

dl.stats dd.words::before {
  /*words*/
  background: url(https://64.media.tumblr.com/fff96d500a04ddf12517a48d83b228d2/b2e751421a20aa0c-a7/s100x200/c848a67de8f463ccdafa5b60948c61a172d5fe24.png);
}

dl.stats dd.chapters::before {
  /*chapters*/
  background: url(https://64.media.tumblr.com/a8ca48310f24581ae539336583690b26/b2e751421a20aa0c-5c/s100x200/a51b914598b64c3ddf6f705b278f11a68301d443.png);
}

dl.stats dd.comments::before {
  /*comments*/
  background: url(https://64.media.tumblr.com/7172c0bbe03a0eef7b236014dc78c905/8b704f26c7323545-78/s250x400/f37ba1ff69b5ef2ad7e5fe66b61fd748badc00d1.png);
}

dl.stats dd.bookmarks::before,
dl.stats dd a[href$="bookmarks"]::before {
  /*bookmarks*/
  background: url(https://64.media.tumblr.com/9b95d189a57699762d2262536e922ece/b2e751421a20aa0c-2a/s100x200/1aabb2ad7b90746f0469aefaa39af5b83728f8b9.png);
}

dl.stats dd.hits::before {
  /*hits*/
  background: url(https://64.media.tumblr.com/b2b8862a356132ac1aa41e9e9f0ddd1d/b2e751421a20aa0c-9e/s100x200/dcd2bcb1adbbb8f9e1844b61aee3dd3a653531e3.png);
}

dl.stats dd.collections::before {
  /*collections*/
  background: url(https://64.media.tumblr.com/ae825c2ad8071426c298c5b52970e294/b2e751421a20aa0c-18/s100x200/d1eb5dd259e2db588cda2100057c2c8fd9efaaf0.png);
}

dl.work dl.stats dd.published::before {
  /*date published*/
  background: url(https://64.media.tumblr.com/7e13419071a7eeb35f48a76c7aa0ba36/b2e751421a20aa0c-5d/s250x400/7f351f60793ad683e4a9dc4de55e4ee4d625f9d2.png);
}

dl.work dl.stats dd.status::before {
  /*completion status*/
  background: url(https://64.media.tumblr.com/0ef9349a36cf808783e9488a97b64678/b2e751421a20aa0c-10/s250x400/8df1d3da298f875381822968f8e71ed4d7bcae31.png);
}

ul.statistics dl.stats dd.subscriptions::before {
  /*subscriptions (in the stat page)*/
  background: url(https://64.media.tumblr.com/64db76a65209eff79515dfc23842eb54/fd0b10e0262ddb71-14/s250x400/921de73c3d5bb819f4e3c58c7c45bd4c6edfe55f.png);
}

/*adjustments for the stat page*/
dl.stats dd.published::before,
dl.stats dd.status::before {
  width: 0px;
  margin-right: 0px;
}

/*for the collections*/
li.collection dl.stats dd a[href$="collections"]::before {
  /*collections and sub collections*/
  background: url(https://64.media.tumblr.com/ae825c2ad8071426c298c5b52970e294/b2e751421a20aa0c-18/s100x200/d1eb5dd259e2db588cda2100057c2c8fd9efaaf0.png);
}

li.collection dl.stats dd a[href$="works"]::before {
  /*works*/
  background: url(https://64.media.tumblr.com/f835b437a474b4b672a8d4ebe61402b8/8979adde76f2ff05-fb/s100x200/8f86556b6896e96427f5a4a54f0de7be38ddba75.png);
}

li.collection dl.stats dd a[href$="bookmarks"]::before {
  /*bookmarks*/
  background: url(https://64.media.tumblr.com/9b95d189a57699762d2262536e922ece/b2e751421a20aa0c-2a/s100x200/1aabb2ad7b90746f0469aefaa39af5b83728f8b9.png);
}

li.collection dl.stats dd a[href$="fandoms"]::before {
  /*fandoms*/
  background: url(https://64.media.tumblr.com/0a2f3d28fb850907a859726916e04e6f/8979adde76f2ff05-48/s250x400/926b1499363f66438d02fdc8bbea5ce610a75395.png);
}

/*
this creates the space before the stats for the icon. 
Yes this is the worst css code ever written I blame Ao3's frontend inconsistencies.
but I'm also sorry for putting this out in the world. I have no excuses.
*/
ul.statistics dl.stats dd::before,
li.work dl.stats dd::before,
li.bookmark dl.stats dd::before,
dl.work dl.stats dd::before,
.collection dl.stats dd a[href$="collections"]::before,
li.collection dl.stats dd a[href$="works"]::before,
li.collection dl.stats dd a[href$="bookmarks"]::before,
li.collection dl.stats dd a[href$="fandoms"]::before,
li.series
  dl.stats
  dd:not(.language):not(.words):not(.chapters):not(.collections):not(
    .comments
  ):not(.kudos):not(.bookmarks):not(.hits):not(.published):not(
    .subscriptions
  ):nth-of-type(1)::before,
li:not(.collection)
  dl.stats
  dd:not(.language):not(.words):not(.chapters):not(.collections):not(
    .comments
  ):not(.kudos):not(.bookmarks):not(.hits):not(.published):not(
    .subscriptions
  ):nth-of-type(2)::before,
dl.stats dd:not(.bookmarks) a[href$="bookmarks"]::before {
  display: inline-block;
  width: 14px;
  height: 14px;
  content: " ";
  background-size: 14px 14px !important;
  margin-right: 5px;
}

/*End of Stats Icons*/
